webpackJsonp([1],{"4HoJ":function(t,e){},"7Otq":function(t,e,i){t.exports=i.p+"static/img/logo.3992e57.png"},NHnr:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i("xd7I"),n={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]};var o=i("C7Lr")({name:"App"},n,!1,function(t){i("XuPF")},null,null).exports,a=i("e1F6"),h=i("5VVI"),r=i("0SSw"),c=(i("AJA6"),{data:function(){return{scene:null,camera:null,renderer:null,orbit:null,cubeCamera:null,spotLight:null,cube:null,cube2:null,cube3:null,angel:-Math.PI/2,trans:!1,angel2:0,trans2:!1,angel3:-Math.PI,trans3:!1,angel4:Math.PI,earthRot:0,moonRot:0,reset:!1}},mounted:function(){this.init()},methods:{init:function(){window.addEventListener("resize",this.onResize,!1),this.initMesh()},initMesh:function(){this.scene=new h.k,this.camera=new h.h(45,window.innerWidth/window.innerHeight,.1,1e4),this.orbit=new r.OrbitControls(this.camera),this.renderer=new h.p,this.renderer.setClearColor(0,1),this.renderer.setSize(window.innerWidth,window.innerHeight);var t=this.createCubeMap();t.format=h.j;var e=h.l.cube;e.uniforms.tCube.value=t;var i=new h.m({fragmentShader:e.fragmentShader,vertexShader:e.vertexShader,uniforms:e.uniforms,depthWrite:!1,side:h.c}),s=new h.e(new h.a(1e4,1e4,1e4),i);this.scene.add(s),this.camera.position.x=0,this.camera.position.y=5,this.camera.position.z=33,this.camera.lookAt(this.scene.position),this.cubeCamera=new h.b(.1,2e4,256),this.scene.add(this.cubeCamera);var n=new h.n(4,20,20),o=new h.f({envMap:this.cubeCamera.renderTarget,side:h.c});this.cube=new h.e(n,o),this.scene.add(this.cube),this.cube2=new h.e(n,o),this.cube3=new h.e(n,o),this.scene.add(this.cube2),this.scene.add(this.cube3);var a=new h.o(16777215);a.position.set(-40,60,-10),a.castShadow=!0,this.scene.add(a),this.spotLight=a,this.$refs.demo1.append(this.renderer.domElement),this.render()},render:function(){this.orbit.update(),this.cubeCamera.updateCubeMap(this.renderer,this.scene),this.renderer.render(this.scene,this.camera),requestAnimationFrame(this.render)},createCubeMap:function(){var t="static/",e=[t+"posx.jpg",t+"negx.jpg",t+"posy.jpg",t+"negy.jpg",t+"posz.jpg",t+"negz.jpg"];return h.d.loadTextureCube(e)},loadAnimation:function(t){1==t?(this.loadAnimation2(),document.querySelector(".btn").style.display="none",document.querySelector(".btn2").style.display="none",document.querySelector(".btn3").style.display="none"):2==t?(this.loadAnimation4(),document.querySelector(".btn").style.display="none",document.querySelector(".btn2").style.display="none",document.querySelector(".btn3").style.display="none"):3==t&&(document.querySelector(".btn").style.display="none",document.querySelector(".btn2").style.display="none",document.querySelector(".btn3").style.display="none",document.querySelector(".btn4").style.display="none",this.initSolarSystem())},loadAnimation2:function(){this.cube2.position.x<=20&&(this.cube2.position.x+=.1,this.cube2.position.z+=.1),this.cube3.position.x>=-20&&(this.cube3.position.x-=.1,this.cube3.position.z-=.1),this.camera.position.z+=.1,this.camera.position.y+=.1,this.cubeCamera.updateCubeMap(this.renderer,this.scene),this.renderer.render(this.scene,this.camera),this.cube2.position.x>20&&this.cube3.position.x<-20?(cancelAnimationFrame(this.loadAnimation2),this.loadAnimation3()):this.reset?this.resetAnimation():requestAnimationFrame(this.loadAnimation2)},loadAnimation3:function(){this.trans?(this.angel-=.01,this.cube.position.x=20*(Math.sin(this.angel)-1)):(this.angel+=.01,this.cube.position.x=20*(Math.sin(this.angel)+1)),this.cube.position.z=20*Math.cos(this.angel),this.angel>=3*Math.PI/2&&(this.angel=-1.5*Math.PI,this.trans=!this.trans),this.angel<=-3.5*Math.PI&&(this.angel=-.5*Math.PI,this.trans=!this.trans),this.trans2?(this.angel2-=.01,this.cube2.position.x=20*(Math.sin(this.angel2)-1)):(this.angel2+=.01,this.cube2.position.x=20*(Math.sin(this.angel2)+1)),this.cube2.position.z=20*Math.cos(this.angel2),console.log(this.cube2.position.x,"xxxxxxxx"),this.angel2>=3*Math.PI/2&&(this.angel2=-1.5*Math.PI,this.trans2=!this.trans2),this.angel2<=-3.5*Math.PI&&(this.angel2=-.5*Math.PI,this.trans2=!this.trans2),this.trans3?(this.angel3+=.01,this.cube3.position.x=20*(Math.sin(this.angel3)+1)):(this.angel3-=.01,this.cube3.position.x=20*(Math.sin(this.angel3)-1)),this.cube3.position.z=20*Math.cos(this.angel3),this.angel3>=3*Math.PI/2&&(this.angel3=Math.PI/2,this.trans3=!this.trans3),this.angel3<=3*-Math.PI/2&&(this.angel3=-Math.PI/2,this.trans3=!this.trans3),this.renderer.render(this.scene,this.camera),this.reset?(cancelAnimationFrame(this.loadAnimation3),this.resetAnimation()):requestAnimationFrame(this.loadAnimation3)},loadAnimation4:function(){this.cube2.position.x<=10*Math.sqrt(3)&&(this.cube2.position.x+=.1),this.cube3.position.x>=-10*Math.sqrt(3)&&(this.cube3.position.x-=.1),this.cube2.position.x>10*Math.sqrt(3)&&this.cube2.position.z<=10&&(this.cube2.position.z+=.1),this.cube3.position.x<=-10*Math.sqrt(3)&&this.cube3.position.z<=10&&(this.cube3.position.z+=.1),this.cube2.position.x>10*Math.sqrt(3)&&this.cube3.position.x<=-10*Math.sqrt(3)&&this.cube.position.z>=-20&&(this.cube.position.z-=.1),this.camera.position.z+=.05,this.camera.position.y+=.1,this.cubeCamera.updateCubeMap(this.renderer,this.scene),this.renderer.render(this.scene,this.camera),this.cube.position.z<-20?(cancelAnimationFrame(this.loadAnimation4),this.loadAnimation5()):this.reset?this.resetAnimation():requestAnimationFrame(this.loadAnimation4)},loadAnimation5:function(){this.angel4+=.01,this.cube.position.x=20*Math.sin(this.angel4),this.cube.position.z=20*Math.cos(this.angel4),this.cube2.position.x=20*Math.sin(this.angel4-2*Math.PI/3),this.cube2.position.z=20*Math.cos(this.angel4-2*Math.PI/3),this.cube3.position.x=20*Math.sin(this.angel4+2*Math.PI/3),this.cube3.position.z=20*Math.cos(this.angel4+2*Math.PI/3),this.renderer.render(this.scene,this.camera),this.reset?this.resetAnimation():requestAnimationFrame(this.loadAnimation5)},initSolarSystem:function(){this.scene.remove(this.cube),this.scene.remove(this.cube2),this.scene.remove(this.cube3),this.scene.remove(this.spotLight);var t=new h.n(500,64,64),e=new h.f({color:16777215,map:h.d.loadTexture("static/sun.jpg")});this.cube=new h.e(t,e),this.scene.add(this.cube);var i=new h.i(16777215,1,0,0);i.position.set(0,0,0),this.scene.add(i),this.spotLight=i;var s=new h.n(280,64,64),n=new h.f({color:16777215,map:h.d.loadTexture("static/earth.jpg")});this.cube2=new h.e(s,n),this.scene.add(this.cube2);var o=new h.n(60,64,64),a=new h.g({color:16777215,map:h.d.loadTexture("static/moon.jpg")});this.cube3=new h.e(o,a),this.scene.add(this.cube3),this.camera.position.x=3e3,this.camera.position.y=1e3,this.camera.position.z=1e3,this.rotateSolarSystem()},rotateSolarSystem:function(){this.earthRot+=.01,this.cube2.position.x=3800*Math.sin(this.earthRot),this.cube2.position.z=3800*Math.cos(this.earthRot),this.cube2.rotation.x=-Math.PI*(1/8),this.cube2.rotation.y+=.008,this.moonRot+=.1,this.cube3.position.x=500*Math.sin(this.moonRot)+this.cube2.position.x,this.cube3.position.z=500*Math.cos(this.moonRot)+this.cube2.position.z,this.cube3.rotation.y+=.001,this.renderer.render(this.scene,this.camera),requestAnimationFrame(this.rotateSolarSystem)},resetPosition:function(){0==this.cube.position.x&&0==this.cube2.position.x&&0==this.cube3.position.x||(this.reset=!0)},resetAnimation:function(){this.cube.position.x=0,this.cube.position.y=0,this.cube.position.z=0,this.cube2.position.x=0,this.cube2.position.y=0,this.cube2.position.z=0,this.cube3.position.x=0,this.cube3.position.y=0,this.cube3.position.z=0,this.camera.position.x=0,this.camera.position.y=5,this.camera.position.z=33,this.camera.lookAt(this.scene.position),this.reset=!1,document.querySelector(".btn").style.display="block",document.querySelector(".btn2").style.display="block",document.querySelector(".btn3").style.display="block",document.querySelector(".btn4").style.display="block"},fullScreen:function(){var t=document.body;t&&t.requestFullscreen()},onResize:function(){this.camera.aspect=window.innerWidth/window.innerHeight,this.camera.updateProjectionMatrix(),this.renderer.setSize(window.innerWidth,window.innerHeight)}}}),u={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{ref:"demo1",attrs:{id:"WebGL-output"}}),t._v(" "),s("div",{staticClass:"btnGroup"},[s("div",{staticClass:"btn",on:{click:function(e){return t.loadAnimation(1)}}},[t._v("特解一")]),t._v(" "),s("div",{staticClass:"btn2",on:{click:function(e){return t.loadAnimation(2)}}},[t._v("特解二")]),t._v(" "),s("div",{staticClass:"btn3",on:{click:function(e){return t.loadAnimation(3)}}},[t._v("地月日运动")]),t._v(" "),s("div",{staticClass:"btn4",on:{click:t.resetPosition}},[t._v("复位")])]),t._v(" "),s("img",{staticClass:"logo",attrs:{src:i("7Otq")},on:{click:t.fullScreen}})])},staticRenderFns:[]};var l=i("C7Lr")(c,u,!1,function(t){i("4HoJ")},"data-v-050db0ca",null).exports;s.a.use(a.a);var d=new a.a({routes:[{path:"/",name:"threeBody",component:l}]});s.a.config.productionTip=!1,new s.a({el:"#app",router:d,components:{App:o},template:"<App/>"})},XuPF:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.96dabcd20939c26b0ca5.js.map